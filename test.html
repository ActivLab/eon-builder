<script type="text/javascript" src="http://pubnub.github.io/eon/lib/eon.js"></script>
<link type="text/css" rel="stylesheet" href="http://pubnub.github.io/eon/lib/eon.css" />
<div id="chart"></div>
<script type="text/javascript">
var pubnub = PUBNUB.init({
  subscribe_key: "demo"
});
var cols = ["something","something_else.another_thing.value","a","b","c","a2","b2","c2","a3"];
chart = eon.chart({
  pubnub: pubnub,
  channel: "eon-builder",
  history: true,
  flow: true,
  rate: 1000,
  limit: 5,
  generate: {
    bindto: "#chart",
    data: {
      colors: {"something":"#01A4A4","something_else.another_thing.value":"#00A1CB","a":"#61AE24","b":"#D0D102","c":"#32742C","a2":"#D70060","b2":"#E54028","c2":"#F18D05","a3":"#113F8C"},
      type: "spline"
    },
    transition: {
      duration: 250
    },
  },
  transform: function(message) {
    var message = eon.c.flatten(message);
    var array = cols.map(function(arg){
      return [arg, message[arg]];
    });
    return {
      columns: array
    };
  }
});
</script>